---
title: 主机访问网络的全过程
date: 2022-11-23 10:23:55.0
updated: 2023-04-04 17:42:06.516
url: /archives/主机访问网络的全过程
categories: 
- 考研计算机网络
tags: 
- 考研
- 计算机网络技术
- TCP/IP
---



# 主机访问网络全过程

## 应用层

- 输入域名 --> 查询主机域名缓存

  > 有：直接获得域名
  >
  > 没有：访问本地域名服务器（主机设置中一般会设置如8.8.8.8域名服务器，或者是你的默认网关ip）

- 获得一个IP地址

  > 将应用层内容交付给udp或者tcp，并且告知其IP地址与端口

## 运输层

- 从上层获取了IP地址与端口，为其生成缓存，并且开始进行TCP握手的第一次连接。或者udp直接通信
- 并且将运输层内容交付给下层，并告知其IP地址与协议

## 网络层

- 从上层获取到了IP地址与协议，填入协议与IP地址。
- 根据IP查找 **路由表** 得到下一跳地址（大概率是你的默认网关）
- 并且交付给下层

## 数据链路层

- 根据下一条IP地址，理用arp查询MAC地址
- 首先是看自己的缓存有没有，如果没有的话，就arp广播查询
- 交付给端口

## 物理层

- 进行简单的发送